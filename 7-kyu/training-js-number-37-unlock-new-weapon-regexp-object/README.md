<h2><a href=https://www.codewars.com/kata/5735e39313c205fe39001173/train/javascript target="_blank">Training JS #37: Unlock new weapon---RegExp Object</a></h2><h3>7 kyu</h3><p>My warrior, you have learned a lot of useful skills from me. You have proved your courage. As a reward, I will give you a new weapon: <code>RegExp Object</code>.</p><p><code>RegExp Object</code> can create a regular expressions, used to match a particular content in a string.</p><p>The definitions and detailed information:</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" data-turbolinks="false" target="_blank">RegExp</a></li></ul><p>Let's create our first regular expression, there are two ways:</p><pre><code class="language-javascript"><span class="cm-keyword">var</span> <span class="cm-def">reg1</span><span class="cm-operator">=</span><span class="cm-string-2">/abc/</span><span class="cm-keyword">var</span> <span class="cm-def">reg2</span><span class="cm-operator">=</span><span class="cm-keyword">new</span> <span class="cm-variable">RegExp</span>(<span class="cm-string">"abc"</span>)<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">reg1</span>,<span class="cm-variable">reg2</span>)  <span class="cm-comment">//output: /abc/ /abc/</span></code></pre><p>We can see that we have created regular expressions in two ways. The first method is direct writing, the second method uses the <code>new</code> keyword. Their results are the same, the only difference is that using the second methods can use variables. See examples of using variables:</p><pre><code class="language-javascript"><span class="cm-keyword">var</span> <span class="cm-def">words</span><span class="cm-operator">=</span>[<span class="cm-string">"abc"</span>,<span class="cm-string">"123"</span>,<span class="cm-string">"&amp;##"</span>];<span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">r</span> <span class="cm-keyword">of</span> <span class="cm-variable">words</span>){  <span class="cm-keyword">var</span> <span class="cm-def">reg</span><span class="cm-operator">=</span><span class="cm-keyword">new</span> <span class="cm-variable">RegExp</span>(<span class="cm-variable-2">r</span>)  <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">reg</span>)}<span class="cm-comment">//output: </span><span class="cm-string-2">/abc/</span><span class="cm-operator">/</span><span class="cm-number">123</span><span class="cm-operator">/</span><span class="cm-string-2">/&amp;##/</span></code></pre><p>The main part of the regular expression is like what we see: At the beginning is "/", the end is "/" too. The other option is flag, which is optional. Each option is a letter, they include: "g"(global match), "i"(ignore case), "m"(multiline match), "u"(unicode), "y"(sticky). They are attached to the tail of the regular expression.</p><p>We often use the options: "g" and "i". "g" can let us in a string matching to multiple results; "i" can let us at the same time matching to the upper case and lower case letters.</p><p>In this lesson we only learn the most basic usage of regular expressions: only the characters that are explicitly pointed out. At the same time, we need to review some of the previous string methods (which can use regular expressions). Here are some examples:</p><ol><li><p><code>search()</code></p><pre><code class="language-javascript"><span class="cm-comment">//example for search()</span><span class="cm-keyword">var</span> <span class="cm-def">str</span><span class="cm-operator">=</span><span class="cm-string">"abcde"</span>;<span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">search</span>(<span class="cm-string-2">/abc/</span>) )  <span class="cm-comment">//output: 0</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">search</span>(<span class="cm-string">"abc"</span>) )  <span class="cm-comment">//output: 0</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">search</span>(<span class="cm-string-2">/cde/</span>) )  <span class="cm-comment">//output: 2</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">search</span>(<span class="cm-string">"cde"</span>) )  <span class="cm-comment">//output: 2</span></code></pre><p>We can see that using a basic regular expression and using a string is the same. But in some cases they will have different results:</p><pre><code class="language-javascript"><span class="cm-comment">//example for search()</span><span class="cm-keyword">var</span> <span class="cm-def">str</span><span class="cm-operator">=</span><span class="cm-string">"ABCDEabcde"</span>;<span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">search</span>(<span class="cm-string-2">/abc/</span>) )   <span class="cm-comment">//output: 5</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">search</span>(<span class="cm-string-2">/abc/i</span>) )  <span class="cm-comment">//output: 0</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">search</span>(<span class="cm-string-2">/cde/</span>) )   <span class="cm-comment">//output: 7</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">search</span>(<span class="cm-string-2">/cde/ig</span>) ) <span class="cm-comment">//output: 2</span></code></pre><p>Using the "i" flag, the <code>search()</code> method matches the "ABC" and "CDE". The <code>search()</code> method does not support "g" flag (global matching), it only returns the position of the first match string.</p></li><li><p><code>replace()</code>. It allows the use of <code>"i"</code> and <code>"g"</code>:</p></li></ol><pre><code class="language-javascript"><span class="cm-comment">//example for replace()</span><span class="cm-keyword">var</span> <span class="cm-def">str</span><span class="cm-operator">=</span><span class="cm-string">"Hello World! Hello CodeWars!"</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">replace</span>(<span class="cm-string-2">/world/</span>,<span class="cm-string">"javascript"</span>) )  <span class="cm-comment">//output: Hello World! Hello CodeWars!   </span><span class="cm-comment">//(There is no match to the string, so nothing is replaced.)</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">replace</span>(<span class="cm-string-2">/world/i</span>,<span class="cm-string">"Javascript"</span>) )  <span class="cm-comment">//output: Hello Javascript! Hello CodeWars!   </span><span class="cm-comment">//(Using "i" flag to match "World" and replace it by "Javascript")</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">replace</span>(<span class="cm-string-2">/Hello/g</span>,<span class="cm-string">"I love"</span>) )  <span class="cm-comment">//output: I love World! I love CodeWars!   </span><span class="cm-comment">//(Using "g" flag to match two "Hello" and replace it by "I love")</span></code></pre><ol start="3"><li><code>split()</code>. It uses the <code>"g"</code> option by default, regardless of whether you specify it or not.<pre><code class="language-javascript"><span class="cm-comment">//example for split()</span><span class="cm-keyword">var</span> <span class="cm-def">str</span><span class="cm-operator">=</span><span class="cm-string">"ababaBa"</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">split</span>(<span class="cm-string-2">/b/</span>) )   <span class="cm-comment">//output: [ 'a', 'a', 'aBa' ]</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">split</span>(<span class="cm-string-2">/b/g</span>) )  <span class="cm-comment">//output: [ 'a', 'a', 'aBa' ]</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>( <span class="cm-variable">str</span>.<span class="cm-property">split</span>(<span class="cm-string-2">/b/i</span>) )  <span class="cm-comment">//output: [ 'a', 'a', 'a', 'a' ]</span></code></pre></li><li><code>match()</code>. We have not learned this method before, because its parameter is a regular expression. Its result is an array that includes the matching results of regular expressions. We mainly use this method in the example to demonstrate the effect of regular expressions. See an example:<pre><code class="language-javascript"><span class="cm-comment">//example for match()</span><span class="cm-keyword">var</span> <span class="cm-def">str</span><span class="cm-operator">=</span><span class="cm-string">"ABABCDEababcde"</span>;<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">str</span>.<span class="cm-property">match</span>(<span class="cm-string-2">/a/</span>))  <span class="cm-comment">//output: [ 'a', index: 7, input: 'ABABCDEababcde' ]</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">str</span>.<span class="cm-property">match</span>(<span class="cm-string-2">/a/i</span>)) <span class="cm-comment">//output: [ 'A', index: 0, input: 'ABABCDEababcde' ]</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">str</span>.<span class="cm-property">match</span>(<span class="cm-string-2">/a/ig</span>))<span class="cm-comment">//output: [ 'A', 'A', 'a', 'a' ]</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">str</span>.<span class="cm-property">match</span>(<span class="cm-string-2">/ab/</span>)) <span class="cm-comment">//output: [ 'ab', index: 7, input: 'ABABCDEababcde' ]</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">str</span>.<span class="cm-property">match</span>(<span class="cm-string-2">/ab/i</span>))<span class="cm-comment">//output: [ 'AB', index: 0, input: 'ABABCDEababcde' ]</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">str</span>.<span class="cm-property">match</span>(<span class="cm-string-2">/ab/ig</span>))<span class="cm-comment">//output: [ 'AB', 'AB', 'ab', 'ab' ]</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">str</span>.<span class="cm-property">match</span>(<span class="cm-string-2">/xyz/</span>)) <span class="cm-comment">//output: null</span></code></pre>We can see:When the matching result is more than one, the output is an array of strings that contain all the matching results; When the matching result is one, the output is a list containing the matching string, the matching index and the original string. If there is no match result, the output is <code>null</code>.</li></ol><p>We often use <code>match()</code> or <code>replace()</code> or <code>split()</code> to count the number of characters in a string:</p><pre><code class="language-javascript"><span class="cm-comment">//example for match()</span><span class="cm-keyword">function</span> <span class="cm-def">count1</span>(<span class="cm-def">str</span>,<span class="cm-def">char</span>){  <span class="cm-keyword">return</span> <span class="cm-variable-2">str</span>.<span class="cm-property">match</span>(<span class="cm-keyword">new</span> <span class="cm-variable">RegExp</span>(<span class="cm-variable-2">char</span>,<span class="cm-string">"g"</span>)).<span class="cm-property">length</span>}<span class="cm-keyword">function</span> <span class="cm-def">count2</span>(<span class="cm-def">str</span>,<span class="cm-def">char</span>){  <span class="cm-keyword">return</span> <span class="cm-variable-2">str</span>.<span class="cm-property">length</span><span class="cm-operator">-</span><span class="cm-variable-2">str</span>.<span class="cm-property">replace</span>(<span class="cm-keyword">new</span> <span class="cm-variable">RegExp</span>(<span class="cm-variable-2">char</span>,<span class="cm-string">"g"</span>),<span class="cm-string">""</span>).<span class="cm-property">length</span>;}<span class="cm-keyword">function</span> <span class="cm-def">count3</span>(<span class="cm-def">str</span>,<span class="cm-def">char</span>){  <span class="cm-keyword">return</span> <span class="cm-variable-2">str</span>.<span class="cm-property">split</span>(<span class="cm-variable-2">char</span>).<span class="cm-property">length</span><span class="cm-operator">-</span><span class="cm-number">1</span>;}<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">count1</span>(<span class="cm-string">"aaaaa"</span>,<span class="cm-string">"a"</span>))  <span class="cm-comment">//output: 5</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">count2</span>(<span class="cm-string">"aaaaa"</span>,<span class="cm-string">"a"</span>))  <span class="cm-comment">//output: 5</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">count3</span>(<span class="cm-string">"aaaaa"</span>,<span class="cm-string">"a"</span>))  <span class="cm-comment">//output: 5</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">count1</span>(<span class="cm-string">"aaaaa"</span>,<span class="cm-string">"b"</span>))  <span class="cm-comment">//output: TypeError: Cannot read property 'length' of null</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">count2</span>(<span class="cm-string">"aaaaa"</span>,<span class="cm-string">"b"</span>))  <span class="cm-comment">//output: 0</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">count3</span>(<span class="cm-string">"aaaaa"</span>,<span class="cm-string">"b"</span>))  <span class="cm-comment">//output: 0</span></code></pre><p>The three methods can achieve the same effect. We note that in the second time using <code>match()</code>, we got a <code>"TypeError"</code>. Because the <code>match()</code> does not match to the string, its result is <code>null</code>, <code>null</code> does not have the length attribute. We can change it this way:</p><pre><code class="language-javascript"><span class="cm-comment">//example for match()</span><span class="cm-keyword">function</span> <span class="cm-def">count1</span>(<span class="cm-def">str</span>,<span class="cm-def">char</span>){  <span class="cm-keyword">return</span> (<span class="cm-variable-2">str</span>.<span class="cm-property">match</span>(<span class="cm-keyword">new</span> <span class="cm-variable">RegExp</span>(<span class="cm-variable-2">char</span>,<span class="cm-string">"g"</span>))<span class="cm-operator">||</span>[]).<span class="cm-property">length</span>}<span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">count1</span>(<span class="cm-string">"aaaaa"</span>,<span class="cm-string">"a"</span>))  <span class="cm-comment">//output: 5</span><span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">count1</span>(<span class="cm-string">"aaaaa"</span>,<span class="cm-string">"b"</span>))  <span class="cm-comment">//output: 0</span></code></pre><p>This will avoid the errors.</p><p>Ok, lesson is over. let's us do some task.</p><h2 id="task">Task</h2><p>Coding in function <code>countAnimals</code>. function accept two parameters: <code>animals</code>, a string contains some animals; <code>count</code>, an array list of which animals we should count. The result should be a number array.</p><h2 id="examples">Examples</h2><pre><code class="language-javascript"><span class="cm-variable">countAnimals</span>(<span class="cm-string">"dog,cat"</span>,[<span class="cm-string">"dog"</span>,<span class="cm-string">"cat"</span>]); <span class="cm-comment">//=&gt; [1,1]</span><span class="cm-variable">countAnimals</span>(<span class="cm-string">"dog,cat"</span>,[<span class="cm-string">"dog"</span>,<span class="cm-string">"cat"</span>,<span class="cm-string">"pig"</span>]); <span class="cm-comment">//=&gt; [1,1,0]</span><span class="cm-variable">countAnimals</span>(<span class="cm-string">"dog,dog,cat"</span>,[<span class="cm-string">"dog"</span>,<span class="cm-string">"cat"</span>]); <span class="cm-comment">//=&gt; [2,1]</span><span class="cm-variable">countAnimals</span>(<span class="cm-string">"dog,dog,cat"</span>,[<span class="cm-string">"pig"</span>,<span class="cm-string">"cow"</span>]); <span class="cm-comment">//=&gt; [0,0]</span></code></pre><h2 id="series"><a href="http://github.com/myjinxin2015/Katas-list-of-Training-JS-series" data-turbolinks="false" target="_blank">Series</a></h2><p>( ↑↑↑ Click the link above can get my newest kata list, Please add it to your favorites)</p><ul><li><a href="http://www.codewars.com/kata/571ec274b1c8d4a61c0000c8" data-turbolinks="false" target="_blank">#1: create your first JS function helloWorld</a></li><li><a href="http://www.codewars.com/kata/571edd157e8954bab500032d" data-turbolinks="false" target="_blank">#2: Basic data types--Number</a></li><li><a href="http://www.codewars.com/kata/571edea4b625edcb51000d8e" data-turbolinks="false" target="_blank">#3:  Basic data types--String</a></li><li><a href="http://www.codewars.com/kata/571effabb625ed9b0600107a" data-turbolinks="false" target="_blank">#4:  Basic data types--Array</a></li><li><a href="http://www.codewars.com/kata/571f1eb77e8954a812000837" data-turbolinks="false" target="_blank">#5:  Basic data types--Object</a></li><li><a href="http://www.codewars.com/kata/571f832f07363d295d001ba8" data-turbolinks="false" target="_blank">#6:  Basic data types--Boolean and conditional statements if..else</a></li><li><a href="http://www.codewars.com/kata/57202aefe8d6c514300001fd" data-turbolinks="false" target="_blank">#7:  if..else and ternary operator</a></li><li><a href="http://www.codewars.com/kata/572059afc2f4612825000d8a" data-turbolinks="false" target="_blank">#8: Conditional statement--switch</a></li><li><a href="http://www.codewars.com/kata/57216d4bcdd71175d6000560" data-turbolinks="false" target="_blank">#9: loop statement --while and do..while</a></li><li><a href="http://www.codewars.com/kata/5721a78c283129e416000999" data-turbolinks="false" target="_blank">#10: loop statement --for</a></li><li><a href="http://www.codewars.com/kata/5721c189cdd71194c1000b9b" data-turbolinks="false" target="_blank">#11: loop statement --break,continue</a></li><li><a href="http://www.codewars.com/kata/5722b3f0bd5583cf44001000" data-turbolinks="false" target="_blank">#12: loop statement --for..in and for..of</a></li><li><a href="http://www.codewars.com/kata/5722fd3ab7162a3a4500031f" data-turbolinks="false" target="_blank">#13: Number object and  its properties</a></li><li><a href="http://www.codewars.com/kata/57238ceaef9008adc7000603" data-turbolinks="false" target="_blank">#14: Methods of Number object--toString() and toLocaleString()</a></li><li><a href="http://www.codewars.com/kata/57256064856584bc47000611" data-turbolinks="false" target="_blank">#15: Methods of Number object--toFixed(), toExponential() and toPrecision()</a></li><li><a href="http://www.codewars.com/kata/57274562c8dcebe77e001012" data-turbolinks="false" target="_blank">#16: Methods of String object--slice(), substring() and substr()</a></li><li><a href="http://www.codewars.com/kata/57277a31e5e51450a4000010" data-turbolinks="false" target="_blank">#17: Methods of String object--indexOf(), lastIndexOf() and search()</a></li><li><a href="http://www.codewars.com/kata/57280481e8118511f7000ffa" data-turbolinks="false" target="_blank">#18: Methods of String object--concat() split() and its good friend join()</a></li><li><a href="http://www.codewars.com/kata/5728203b7fc662a4c4000ef3" data-turbolinks="false" target="_blank">#19: Methods of String object--toUpperCase() toLowerCase() and replace()</a></li><li><a href="http://www.codewars.com/kata/57284d23e81185ae6200162a" data-turbolinks="false" target="_blank">#20: Methods of String object--charAt() charCodeAt() and fromCharCode()</a></li><li><a href="http://www.codewars.com/kata/5729b103dd8bac11a900119e" data-turbolinks="false" target="_blank">#21: Methods of String object--trim() and the string template</a></li><li><a href="http://www.codewars.com/kata/572ab0cfa3af384df7000ff8" data-turbolinks="false" target="_blank">#22: Unlock new skills--Arrow function,spread operator and deconstruction</a></li><li><a href="http://www.codewars.com/kata/572af273a3af3836660014a1" data-turbolinks="false" target="_blank">#23: methods of arrayObject---push(), pop(), shift() and unshift()</a></li><li><a href="http://www.codewars.com/kata/572cb264362806af46000793" data-turbolinks="false" target="_blank">#24: methods of arrayObject---splice() and slice()</a></li><li><a href="http://www.codewars.com/kata/572df796914b5ba27c000c90" data-turbolinks="false" target="_blank">#25: methods of arrayObject---reverse() and sort()</a></li><li><a href="http://www.codewars.com/kata/572fdeb4380bb703fc00002c" data-turbolinks="false" target="_blank">#26: methods of arrayObject---map()</a></li><li><a href="http://www.codewars.com/kata/573023c81add650b84000429" data-turbolinks="false" target="_blank">#27: methods of arrayObject---filter()</a></li><li><a href="http://www.codewars.com/kata/57308546bd9f0987c2000d07" data-turbolinks="false" target="_blank">#28: methods of arrayObject---every() and some()</a></li><li><a href="http://www.codewars.com/kata/5731861d05d14d6f50000626" data-turbolinks="false" target="_blank">#29: methods of arrayObject---concat() and join()</a></li><li><a href="http://www.codewars.com/kata/573156709a231dcec9000ee8" data-turbolinks="false" target="_blank">#30: methods of arrayObject---reduce() and reduceRight()</a></li><li><a href="http://www.codewars.com/kata/5732b0351eb838d03300101d" data-turbolinks="false" target="_blank">#31: methods of arrayObject---isArray() indexOf() and toString()</a></li><li><a href="http://www.codewars.com/kata/5732d3c9791aafb0e4001236" data-turbolinks="false" target="_blank">#32: methods of Math---round() ceil() and floor()</a></li><li><a href="http://www.codewars.com/kata/5733d6c2d780e20173000baa" data-turbolinks="false" target="_blank">#33: methods of Math---max() min() and abs()</a></li><li><a href="http://www.codewars.com/kata/5733f948d780e27df6000e33" data-turbolinks="false" target="_blank">#34: methods of Math---pow() sqrt() and cbrt()</a></li><li><a href="http://www.codewars.com/kata/57353de879ccaeb9f8000564" data-turbolinks="false" target="_blank">#35: methods of Math---log() and its family</a></li><li><a href="http://www.codewars.com/kata/5735956413c2054a680009ec" data-turbolinks="false" target="_blank">#36: methods of Math---kata author's lover:random()</a></li><li><a href="http://www.codewars.com/kata/5735e39313c205fe39001173" data-turbolinks="false" target="_blank">#37: Unlock new weapon---RegExp Object</a></li><li><a href="http://www.codewars.com/kata/573975d3ac3eec695b0013e0" data-turbolinks="false" target="_blank">#38: Regular Expression--"^","$", "." and test()</a></li><li><a href="http://www.codewars.com/kata/573bca07dffc1aa693000139" data-turbolinks="false" target="_blank">#39: Regular Expression--"?", "*", "+" and "{}"</a></li><li><a href="http://www.codewars.com/kata/573d11c48b97c0ad970002d4" data-turbolinks="false" target="_blank">#40: Regular Expression--"|", "[]" and "()"</a></li><li><a href="http://www.codewars.com/kata/573e6831e3201f6a9b000971" data-turbolinks="false" target="_blank">#41: Regular Expression--""</a></li><li><a href="http://www.codewars.com/kata/573fb9223f9793e485000453" data-turbolinks="false" target="_blank">#42: Regular Expression--(?:), (?=) and (?!)</a></li></ul>